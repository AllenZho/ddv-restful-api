{"version":3,"sources":["webpack:///webpack/bootstrap f08a9a3fd062d3cb6581","webpack:///./lib/api.js","webpack:///./lib/nextTick.js","webpack:///./lib/request.js","webpack:///./lib/session.js","webpack:///./lib/sign.js","webpack:///./lib/url.js","webpack:///external \"crypto-js/core\"","webpack:///external \"crypto-js/enc-base64\"","webpack:///./lib/ajax.js","webpack:///./lib/apiExternal.js","webpack:///./lib/apiPromisePrototype.js","webpack:///./lib/apiPromiseRun.js","webpack:///./lib/apiTryData.js","webpack:///external \"crypto-js/enc-hex\"","webpack:///external \"crypto-js/enc-utf8\"","webpack:///external \"crypto-js/hmac-sha256\"","webpack:///external \"crypto-js/md5\"","webpack:///external \"http\"","webpack:///external \"https\"","webpack:///./lib/index.js"],"names":["api","module","exports","ddvRestFulApi","path","req","res","_promise","Promise","resolve","reject","nextTick","apiPromiseRun","then","apiPromisePrototype","_baseUrl","baseUrl","require","nextTickQueue","nextTickSys","fnc","process","split","forEach","prefixes","window","bind","setImmediate","ActiveXObject","postMessage","f","setTimeout","addEventListener","i","length","e","splice","fn","push","_this","call","request","o","callback","Request","url","sign","ajax","ddvRequest","self","_baseInit","_buildParams","_run","destroy","catch","prototype","serverRes","Object","create","statusCode","status","body","input_o","method","_method","headers","_headers","data","_data","queryObject","_query","_path","charAt","query","toString","_req","_res","isServerNode","host","port","protocol","request_id","createRequestId","str","buildParams","runRequest","parseInt","isSessionInit","key","hasOwnProperty","assign","message","msg","Error","error_id","kEscapedMap","urlEncodeExceptSlash","value","urlEncode","string","encodingSlash","result","encodeURIComponent","replace","$1","isQuery","r","join","prefix","keyt","Array","isArray","_buildParamsAddPrefix","apply","isNotArray","pid","rid","ridLen","ridT","ridNew","Number","createNewPid","substr","createGuid","createNewidSumLast","createNewidTimeLast","createNewid","is10","time","s","c","Math","random","v","now","Date","getTime","getSessionTrueCbs","getSessionInitCbs","_getSessionTrueDataCbsIng","_getSessionInitCbsIng","session","init","isRun","_getSessionInitCbs","isClientWindow","_initRun","cbt","shift","_initRunBaseInit","initTrySum","initTryNum","console","log","getData","sessionData","session_card","createCard","authorization","session_id","getUTCServerTime","difference_time","signingKey","HmacSHA256","session_key","Authorization","sessionInitPath","JSON","parse","e1","state","code","_serverResObj","type","session_data","server_time","local_time","expires_time","undefined","setData","stringify","Boolean","getTrueData","_getSessionTrueDataCbs","_getTrueDataRun","sessionO","cookieName","cookieNameEnCode","isSessionDataPass","sessionDataStr","sessionDataOldStr","keys","copyObjByKey","_cookieNameEnCode","_setDataNode","_setDataClient","_getDataNode","_getDataClient","arrayToStr","cookiename","_getCookiesServer","cookieDdvRestfulApiStr","isLongStorage","_setCookiesServer","getExpiresDate","cookies","_getCookiesByStr","cookie","expires","domain","isSecure","t","secure","trim","escape","cookiesSetArray","setHeader","isLocalCookie","isLocalStorage","isSessionStorage","_getCookiesClient","localStorage","getItem","_setCookiesClient","sessionStorage","setItem","document","VS_COOKIEDM","name","cryptoJsCore","enc","Utf8","cryptoJsBase64","a","unescape","obj","sort","isNumber","parseFloat","days","hours","minutes","seconds","ExpiresDate","setDate","getDate","setHours","getHours","setMinutes","getMinutes","setSeconds","getSeconds","toGMTString","_signRun","headersPrefix","excludeHeaderKeys","signInit","_signRunBaseInit","_signRunQueryInit","_signRunHeadersFormat","_signRunHeadersSort","sessionId","sessionKey","sessionCard","differenceTime","canonicalRequest","n","authCanonicalHeadersStr","sessionSign","authHeadersStr","headersPrefixLen","keyLower","headersOld","toLowerCase","indexOf","headersTemp","_trim","Host","md5Base64","queryArray","toUpperCase","d","getTimezoneOffset","getUTCFullYear","_replenish","getUTCMonth","getUTCDate","getUTCHours","getUTCMinutes","getUTCSeconds","text","total","rstr","rstrlen","rstri","arguments","md5Hex","isToString","MD5","cryptoJsHex","_t","RegExp","_d","decodeURIComponent","_i","arg","sptr","substring","_f","field","params","tmp","arg2","ii","match","_l","location","email","hash","file","filename","fileext","auth","user","pass","hostname","tld","sub","http","https","isWindow","ajaxbyWindow","ajaxbyNode","parseUrl","xhr","XMLHttpRequest","onreadystatechange","readyState","statusText","rawHeaders","response","statusMessage","getAllResponseHeaders","header","matches","open","vt","setRequestHeader","send","opt","on","write","end","pathquery","setBaseUrl","setHeadersPrefix","setLongStorage","isUseLong","setSessionInitTrySum","sum","setSessionInitPath","get","ddvRestFulApiGet","post","ddvRestFulApiPost","put","ddvRestFulApiPut","del","ddvRestFulApiDelete","util","apiUtil","extend","oldObj","newObj","sendData","context","requests","_apiDestroy","success","error","fail","_request","tryGetData","promiseFnRun","_dataOld","promiseFnReload","tryGetDataRun","inputData","resData","dataErrorEmit","isReload","_onDataServerErrorFn","onDataServerError","_onDataClientErrorFn","onDataClientError","input","checkOnDataErrorArr","isServer","onCatch"],"mappings":"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","file":"api.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmony imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 19);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap f08a9a3fd062d3cb6581","'use strict'\nvar api = module.exports = function ddvRestFulApi (path, req, res) {\n  var _promise = new Promise(function (resolve, reject) {\n    nextTick(function () {\n      apiPromiseRun(_promise, path, req, res).then(resolve, reject)\n    })\n  })\n  apiPromisePrototype(_promise)\n  _promise._baseUrl = api.baseUrl\n  return _promise\n}\n// 下一进程运行\nvar nextTick = require('./nextTick.js')\n// api Promise 运行\nvar apiPromiseRun = require('./apiPromiseRun.js')\n// api Promise 继承\nvar apiPromisePrototype = require('./apiPromisePrototype.js')\n// 允许在 TypeScript 中使用默认导入语法\napi['default'] = api\nrequire('./apiTryData.js')\n// 对外扩张接口\nrequire('./apiExternal.js')\n\n\n\n// WEBPACK FOOTER //\n// ./lib/api.js","'use strict'\nvar nextTickQueue = []\n\nvar nextTickSys = (function () {\n  var fnc\n  if (typeof process !== 'undefined' && typeof process.nextTick === 'function') {\n    fnc = process.nextTick\n  } else {\n    'r webkitR mozR msR oR'.split(' ').forEach(function (prefixes) {\n      if (typeof fnc === 'function') {\n        return false\n      }\n      fnc = window[prefixes + 'equestAnimationFrame']\n    })\n    fnc = (fnc && fnc.bind && fnc.bind(window)) || window.setImmediate\n    if (typeof fnc !== 'function') {\n      if (typeof window === 'undefined' || window.ActiveXObject || !window.postMessage) {\n        fnc = function (f) {\n          setTimeout(f, 0)\n        }\n      } else {\n        window.addEventListener('message', function () {\n          var i = 0\n          while (i < nextTickQueue.length) {\n            try {\n              nextTickQueue[i++]()\n            } catch (e) {\n              nextTickQueue.splice(0, i)\n              window.postMessage('nextTick!', '*')\n              throw e\n            }\n          }\n          nextTickQueue.length = 0\n        }, true)\n        fnc = function (fn) {\n          if (!nextTickQueue.length) {\n            window.postMessage('nextTick!', '*')\n          }\n          nextTickQueue.push(fn)\n        }\n      }\n    }\n  }\n  return fnc\n}())\n\n// 下一进程访问\nmodule.exports = function (fn) {\n  var _this = this\n  nextTickSys(function () {\n    if (typeof fn === 'function') {\n      fn.call(_this)\n    }\n    _this = fn = void 0\n  })\n  setTimeout(function () {\n    if (typeof fn === 'function') {\n      fn.call(_this)\n    }\n    _this = fn = void 0\n  }, 0)\n}\n\n\n\n// WEBPACK FOOTER //\n// ./lib/nextTick.js","'use strict'\nvar request = module.exports = function request (o, callback) {\n  return new request.Request(o, callback)\n}\nvar url = require('./url.js')\nvar sign = require('./sign.js')\nvar api = require('./api.js')\nvar ajax = require('./ajax.js')\nvar nextTick = require('./nextTick.js')\nrequest.Request = function ddvRequest (o, callback) {\n  var self = this\n  // 回调\n  this.callback = callback\n  // 基本参数初始化\n  this._baseInit(o)\n  // 请求参数编码\n  this._buildParams()\n  // 开始运行\n  this._run().then(function () {\n    if (!self) return\n    if (self.callback) {\n      self.callback(null, self)\n    } else if (self.destroy) {\n      self.destroy()\n    }\n    self.callback = self = void 0\n  }).catch(function (e) {\n    if (!self) return\n    if (self.callback) {\n      self.callback(e, self)\n    } else if (self.destroy) {\n      self.destroy()\n    }\n    self.callback = self = void 0\n  })\n}\nrequest.Request.prototype = {\n  _baseInit: function (o) {\n    this.serverRes = Object.create(null)\n    this.serverRes.statusCode = 0\n    this.serverRes.status = 'UNKNOW_ERROR'\n    this.serverRes.body = ''\n    this.input_o = o\n    this.method = o._method || 'GET'\n    this.headers = o._headers || Object.create(null)\n    this.data = o._data || Object.create(null)\n    this.queryObject = o._query || Object.create(null)\n    this.path = o._path || '/'\n    this.path = (this.path.charAt(0) === '/' ? '' : '/') + this.path\n    this.query = (url('query', this.path) || '').toString()\n    this.path = url('path', this.path) || '/'\n    this.baseUrl = o._baseUrl || this.baseUrl || request.baseUrl || api.baseUrl || ''\n\n    this.req = o._req || null\n    this.res = o._res || null\n    this.isServerNode = this.req && this.res && true || false\n\n    this.host = url('hostname', this.baseUrl)\n    this.port = url('port', this.baseUrl)\n    this.protocol = url('protocol', this.baseUrl)\n    this.request_id = this.request_id || request.createRequestId()\n  },\n  _buildParams: function () {\n    var str\n    if (this.queryObject) {\n      str = request.buildParams(this.queryObject, true)\n      if (str) {\n        this.query += (this.query.length > 0 ? '&' : '') + str\n      }\n    }\n    if (this.method === 'GET') {\n      str = request.buildParams(this.data, true)\n      if (str) {\n        this.query += (this.query.length > 0 ? '&' : '') + str\n      }\n    } else {\n      this.body = request.buildParams(this.data)\n    }\n  },\n  _run: function () {\n    var self = this\n    // 签名\n    return sign(this).then(function (o) {\n      return request.runRequest(o)\n    }).catch(function (e) {\n      if (parseInt(self.serverRes.statusCode) === 403) {\n        self.isSessionInit = true\n        return self._run()\n      } else {\n        throw e\n      }\n    })\n  },\n  destroy: function () {\n    nextTick.call(this, function () {\n      var key\n      for (key in this) {\n        if (!Object.hasOwnProperty.call(this, key)) continue\n        delete this[key]\n      }\n      key = void 0\n    })\n  }\n}\n// 发送请求\nrequest.runRequest = function runRequest (o) {\n  return ajax(o).then(function (serverRes) {\n    Object.assign(o.serverRes, serverRes)\n    var e\n    if (o.serverRes.statusCode >= '200' && o.serverRes.statusCode < '300') {\n      return o\n    } else {\n      o.serverRes.message = o.serverRes.message || o.serverRes.msg || o.serverRes.status || 'Unknow Error'\n      e = new Error(o.serverRes.message)\n      e.statusCode = o.serverRes.statusCode\n      e.error_id = e.error_id || o.serverRes.error_id || o.serverRes.status\n      e.message = o.serverRes.message || o.serverRes.status || 'Unknow Error'\n      throw e\n    }\n  })\n}\n\nrequest.kEscapedMap = {\n  '!': '%21',\n  '\\'': '%27',\n  '(': '%28',\n  ')': '%29',\n  '*': '%2A'\n}\n// path编码\nrequest.urlEncodeExceptSlash = function (value) {\n  return request.urlEncode(value, false)\n}\n// 编码\nrequest.urlEncode = function (string, encodingSlash) {\n  var result = encodeURIComponent(string)\n  result = result.replace(/[!'()*]/g, function ($1) {\n    return request.kEscapedMap[$1]\n  })\n  if (encodingSlash === false) {\n    result = result.replace(/%2F/gi, '/')\n  }\n  return result\n}\n// 编码\nrequest.buildParams = function (data, isQuery) {\n  var r = request._buildParams(data, '').join('&')\n  if (isQuery) {\n    r = r.replace(/%20/gi, '+')\n  }\n  return r\n}\nrequest._buildParams = function (data, prefix) {\n  var r = []\n  var i, key, keyt, value\n  if (typeof data === 'object') {\n    // 数组\n    if (Array.isArray(data)) {\n      for (i = 0; i < data.length; i++) {\n        // 值\n        value = data[i]\n        // 键\n        keyt = request._buildParamsAddPrefix(i, prefix, (typeof value === 'object'))\n        // 递归处理对象和数组\n        if (typeof value === 'object') {\n          // 插入数组\n          r.push.apply(r, request._buildParams(value, keyt))\n        } else {\n          // 插入数组\n          r.push(request.urlEncode(keyt) + '=' + request.urlEncode(value))\n        }\n      }\n    } else {\n      for (key in data) {\n        if (!Object.hasOwnProperty.call(data, key)) {\n          continue\n        }\n        // 值\n        value = data[key]\n        // 键\n        keyt = request._buildParamsAddPrefix(key, prefix)\n        if (typeof value === 'object') {\n          // 插入数组\n          r.push.apply(r, request._buildParams(value, keyt))\n        } else {\n          // 插入数组\n          r.push(request.urlEncode(keyt) + '=' + request.urlEncode(value))\n        }\n      }\n    }\n  }\n  return r\n}\nrequest._buildParamsAddPrefix = function (key, prefix, isNotArray) {\n  if (prefix) {\n    return prefix + '[' + (isNotArray !== false ? key : '') + ']'\n  } else {\n    return key\n  }\n}\n// 生成请求id\nrequest.createRequestId = function createRequestId () {\n  var pid, rid, ridLen, ridT, ridNew, i\n  // 获取16进制的 pid\n  pid = Number(request.createNewPid(true)).toString(16)\n  // 种子\n  rid = 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'\n  ridNew = ''\n  for (i = rid.length - 1; i >= 0; i--) {\n    ridT = rid[i]\n    if (ridT === 'x') {\n      ridLen = pid.length\n      ridT = pid ? pid.charAt(ridLen - 1) : 'x'\n      pid = pid.substr(0, ridLen - 1)\n    }\n    ridNew = ridT + ridNew\n  }\n  rid = request.createGuid(ridNew)\n  i = ridNew = ridT = ridLen = pid = void 0\n  return rid\n}\nvar createNewidSumLast, createNewidTimeLast\ncreateNewidSumLast = 0\ncreateNewidTimeLast = 0\nrequest.createNewPid = function createNewid (is10) {\n  var r\n  if (createNewidTimeLast !== request.time()) {\n    createNewidTimeLast = request.time()\n    createNewidSumLast = 0\n  }\n  r = createNewidTimeLast.toString() + (++createNewidSumLast).toString()\n  // 使用36进制\n  if (!is10) {\n    r = parseInt(r, 10).toString(36)\n  }\n  return r\n}\n// 生成guid\nrequest.createGuid = function createGuid (s) {\n  return (s || 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx').replace(/[xy]/g, function (c) {\n    var r = Math.random() * 16 | 0\n    var v = c === 'x' ? r : (r & 0x3 | 0x8)\n    return v.toString(16)\n  })\n}\n// 获取当前时间开始\nrequest.now = function now () {\n  return (new Date()).getTime()\n}\n// 获取php的时间戳\nrequest.time = function time () {\n  return parseInt(request.now() / 1000)\n}\n\n\n\n// WEBPACK FOOTER //\n// ./lib/request.js","/* global localStorage sessionStorage VS_COOKIEDM */\nvar getSessionTrueCbs = []\nvar getSessionInitCbs = []\nvar _getSessionTrueDataCbsIng = false\nvar _getSessionInitCbsIng = false\nvar session = module.exports = {\n  // 会话初始化\n  init: function (o) {\n    o = o || Object.create(null)\n    return new Promise(function (resolve, reject) {\n      var isRun = false\n      // 处理回调\n      if (o.isServerNode) {\n        o.req._getSessionInitCbs = o.req._getSessionInitCbs || []\n        // 服务端-处理同一请求多次初始化会话的问题，同一回调\n        o.req._getSessionInitCbs.push([resolve, reject, o])\n        o.req._getSessionInitCbs.push([function () {\n          if (this && this.req) {\n            this.req._getSessionInitCbsIng = false\n          }\n        }.bind(o), function () {\n          if (this && this.req) {\n            this.req._getSessionInitCbsIng = false\n          }\n        }.bind(o), o])\n        if (o.req._getSessionInitCbsIng !== true) {\n          isRun = true\n          o.req._getSessionInitCbsIng = true\n        }\n      } else if (session.isClientWindow) {\n        // 浏览器-处理同一请求多次初始化会话的问题，同一回调\n        getSessionInitCbs.push([resolve, reject, o])\n        getSessionInitCbs.push([function () {\n          _getSessionInitCbsIng = false\n        }, function () {\n          _getSessionInitCbsIng = false\n        }, o])\n        if (_getSessionInitCbsIng !== true) {\n          isRun = true\n          _getSessionInitCbsIng = true\n        }\n      } else {\n        reject(new Error('Neither a browser nor req and res'))\n      }\n      if (isRun) {\n        session._initRun(o).then(function () {\n          // 批量回调成功\n          var cbt\n          if (o && o.req && o.req._getSessionInitCbs) {\n            while ((cbt = o.req._getSessionInitCbs.shift())) {\n              if (cbt && cbt[0] && cbt[2] && typeof cbt[0] === 'function') {\n                cbt[0](cbt[2])\n              }\n              cbt = void 0\n            }\n          } else if (session.isClientWindow && getSessionInitCbs) {\n            while ((cbt = getSessionInitCbs.shift())) {\n              if (cbt && cbt[0] && cbt[2] && typeof cbt[0] === 'function') {\n                cbt[0](cbt[2])\n              }\n              cbt = void 0\n            }\n          }\n          o = void 0\n        }).catch(function (e) {\n          // 批量回调异常\n          var cbt\n          if (o && o.req && o.req._getSessionInitCbs) {\n            while ((cbt = o.req._getSessionInitCbs.shift())) {\n              if (cbt && cbt[1] && typeof cbt[1] === 'function') {\n                cbt[1](e)\n              }\n              cbt = void 0\n            }\n          } else if (session.isClientWindow && getSessionInitCbs) {\n            while ((cbt = getSessionInitCbs.shift())) {\n              if (cbt && cbt[1] && typeof cbt[1] === 'function') {\n                cbt[1](e)\n              }\n              cbt = void 0\n            }\n          }\n          e = o = void 0\n        })\n      }\n      resolve = reject = isRun = void 0\n    })\n  },\n  _initRun: function (o) {\n    // 初始化基本参数\n    session._initRunBaseInit(o)\n    //\n    return new Promise(function (resolve, reject) {\n      var initTrySum = session.initTrySum || o.initTrySum\n      if (o.initTryNum >= initTrySum) {\n        reject(new Error('Session initialization failed, exceeding maximum attempted test'))\n        return\n      } else if (o.initTryNum >= 2) {\n        console.log('清理尝试')\n      } else {\n        resolve(o)\n      }\n      o = void 0\n    }).then(function (o) {\n      return session.getData(o)\n    }).then(function (o) {\n      // 检测设备唯一识别号\n      if (o.sessionData && o.sessionData.session_card) {\n        return o\n      } else {\n        return session.createCard(o)\n      }\n    }).then(function (o) {\n      o.request_id = o.request_id || request.createRequestId()\n\n      // 授权字符串\n      var authorization = 'session-init-v1'\n      authorization += '/' + o.request_id\n      authorization += '/' + (o.sessionData.session_id || '0')\n      authorization += '/' + o.sessionData.session_card\n      authorization += '/' + sign.getUTCServerTime(o.sessionData.difference_time || 0) + '/' + '1800'\n      var signingKey = sign.HmacSHA256(authorization, (o.sessionData.session_key || 'session_key'))\n      // 生成加密key\n      authorization += '/' + request.createGuid()\n      authorization += '/' + sign.HmacSHA256(authorization, signingKey)\n\n      o.headers = o.headers || Object.create(null)\n      o.headers.Authorization = authorization\n\n      signingKey = authorization = void 0\n      return o\n    }).then(function (o) {\n      // 请求方式\n      o.method = o.method || 'GET'\n      o.path = o.path || session.sessionInitPath || '/session/init'\n      o.serverRes = Object.create(null)\n      o.serverRes.statusCode = 0\n      o.serverRes.status = 'UNKNOW_ERROR'\n      o.serverRes.body = ''\n      // 返回一个请求\n      return request.runRequest(o)\n    }).then(function (o) {\n      return new Promise(function (resolve, reject) {\n        var r = null\n        var e = null\n        var res = o.serverRes\n        try {\n          r = JSON.parse(res.body)\n        } catch (e1) {\n          e = e1\n        }\n        if (e) {\n          e.statusCode = res.statusCode\n          e.error_id = res.status\n          e.message = res.status || 'Unknow Error'\n          reject(e)\n        } else if (r) {\n          if (r.state) {\n            r.statusCode = r.statusCode || r.code || res.statusCode\n            r.error_id = r.error_id || res.status\n            r.message = r.message || r.msg || res.status || 'Unknow Error'\n            o._serverResObj = r\n            resolve(o)\n          } else {\n            e = new Error(r.message || r.msg || res.status || 'Unknow Error')\n            e.statusCode = r.statusCode || r.code || res.statusCode\n            e.error_id = r.error_id || res.status\n            e.message = r.message || r.msg || res.status || 'Unknow Error'\n            reject(e)\n          }\n        }\n        o.destroy()\n        o = resolve = reject = r = e = res = void 0\n      })\n    }).then(function (o) {\n      return new Promise(function (resolve, reject) {\n        var res = o._serverResObj\n\n        if (res.type !== 'update') {\n          // 如果不需要更新就跳过\n          resolve(o)\n          return\n        }\n        var sessionData = res.session_data\n        // 服务器时间\n        sessionData.server_time = sessionData.server_time || request.time()\n        // 本地时间\n        sessionData.local_time = request.time()\n        // 服务器时间减去本地时间\n        sessionData.difference_time = sessionData.server_time - sessionData.local_time\n        // 到期时间\n\n        if (sessionData.expires_time !== undefined && sessionData.expires_time !== null) {\n          sessionData.expires_time += sessionData.difference_time\n        } else {\n          sessionData.expires_time = request.time() + (60 * 60 * 24 * 7)\n        }\n        // 获取会话数据\n        session.setData(o, JSON.stringify(sessionData)).then(resolve).catch(reject)\n      })\n    })\n  },\n  createCard: function (o) {\n    return new Promise(function (resolve, reject) {\n      o.sessionData = o.sessionData || Object.create(null)\n      o.sessionData.session_card = 'ed9a-d251b2e6-48c3-9c08-e426-ed15398ac305-73624bb2'\n      resolve(o)\n      // reject('ed9a-d251b2e6-48c3-9c08-e426-ed15398ac305-73624bb2');\n    })\n  },\n  _initRunBaseInit: function (o) {\n    // 默认0次参数\n    o.initTryNum = o.initTryNum || 0\n    // 默认0次参数\n    o.initTrySum = o.initTrySum || session.initTrySum || 3\n    // url\n    o.baseUrl = o.baseUrl || request.baseUrl || api.baseUrl || ''\n    o.req = o.req || null\n    o.res = o.res || null\n    // 是否在node服务器运行\n    o.isServerNode = (o.isServerNode !== void 0) ? o.isServerNode : Boolean(o.req && o.res)\n    // 获取基本信息\n    o.host = o.host || url('hostname', o.baseUrl)\n    o.port = o.port || url('port', o.baseUrl)\n    o.protocol = o.protocol || url('protocol', o.baseUrl)\n  },\n  // 获取正确的会话数据\n  getTrueData: function (o) {\n    return new Promise(function (resolve, reject) {\n      var isRun = false\n      // 处理回调\n      if (o.isServerNode) {\n        o.req._getSessionTrueDataCbs = o.req._getSessionTrueDataCbs || []\n        // 服务端-处理同一请求多次初始化会话的问题，同一回调\n        o.req._getSessionTrueDataCbs.push([resolve, reject, o])\n        o.req._getSessionTrueDataCbs.push([function () {\n          if (this && this.req) {\n            this.req._getSessionTrueDataCbsIng = false\n          }\n        }.bind(o), function () {\n          if (this && this.req) {\n            this.req._getSessionTrueDataCbsIng = false\n          }\n        }.bind(o), o])\n        if (o.req._getSessionTrueDataCbsIng !== true) {\n          isRun = true\n          o.req._getSessionTrueDataCbsIng = true\n        }\n      } else if (session.isClientWindow) {\n        // 浏览器-处理同一请求多次初始化会话的问题，同一回调\n        getSessionTrueCbs.push([resolve, reject, o])\n        getSessionTrueCbs.push([function () {\n          _getSessionTrueDataCbsIng = false\n        }, function () {\n          _getSessionTrueDataCbsIng = false\n        }, o])\n        if (_getSessionTrueDataCbsIng !== true) {\n          isRun = true\n          _getSessionTrueDataCbsIng = true\n        }\n      } else {\n        reject(new Error('Neither a browser nor req and res'))\n      }\n      if (isRun) {\n        session._getTrueDataRun(o)\n      }\n      resolve = reject = o = isRun = void 0\n    })\n  },\n  // 获取正确的会话数据-开始运行\n  _getTrueDataRun: function (o) {\n    var sessionO = {\n      req: o.req || null,\n      res: o.res || null,\n      host: o.host,\n      port: o.port,\n      baseUrl: o.baseUrl,\n      protocol: o.protocol,\n      isServerNode: o.isServerNode,\n      cookieName: o.cookieName,\n      cookieNameEnCode: o.cookieNameEnCode,\n      isSessionInit: o.isSessionInit,\n      isSessionDataPass: o.isSessionDataPass,\n      sessionData: o.sessionData,\n      sessionDataStr: o.sessionDataStr,\n      sessionDataOldStr: o.sessionDataOldStr\n    }\n    var keys = Object.keys(sessionO)\n    session.getData(sessionO).then(function (o) {\n      // 检测会话是否过期\n      return new Promise(function (resolve, reject) {\n        var isSessionDataPass = true\n          // o.isSessionInit 是否强制\n        isSessionDataPass = isSessionDataPass && (!o.isSessionInit)\n          // 基本需要的数据检测\n        isSessionDataPass = isSessionDataPass && o.sessionData && o.sessionData.session_id && o.sessionData.session_key && o.sessionData.session_card\n          // 检测事件\n        isSessionDataPass = isSessionDataPass && o.sessionData.expires_time && request.time() < (o.sessionData.expires_time - 5)\n        // 为了保证没有问题，提前5秒钟过期\n        if (isSessionDataPass) {\n          // 下一步\n          resolve(o)\n          // 回收\n          resolve = reject = o = void 0\n        } else {\n          // 重新初始化\n          o.isSessionInit = undefined\n          session.init({\n            req: o.req || null,\n            res: o.res || null,\n            host: o.host,\n            port: o.port,\n            baseUrl: o.baseUrl,\n            protocol: o.protocol,\n            isServerNode: o.isServerNode\n          }).then(function () {\n            if (typeof resolve === 'function') {\n              session.getData(o).then(resolve).catch(reject)\n            }\n            resolve = reject = o = void 0\n          }).catch(function (e) {\n            if (typeof reject === 'function') {\n              reject(e)\n            }\n            resolve = reject = o = void 0\n          })\n        }\n      })\n    }).then(function () {\n      // 批量回调成功\n      var cbt\n      if (sessionO.req && sessionO.req._getSessionTrueDataCbs) {\n        while ((cbt = sessionO.req._getSessionTrueDataCbs.shift())) {\n          if (cbt && cbt[0] && cbt[2] && typeof cbt[0] === 'function') {\n            api.copyObjByKey(cbt[2], sessionO, keys)\n            cbt[0](cbt[2])\n          }\n          cbt = void 0\n        }\n      } else if (session.isClientWindow && getSessionTrueCbs) {\n        while ((cbt = getSessionTrueCbs.shift())) {\n          if (cbt && cbt[0] && cbt[2] && typeof cbt[0] === 'function') {\n            api.copyObjByKey(cbt[2], sessionO, keys)\n            cbt[0](cbt[2])\n          }\n          cbt = void 0\n        }\n      }\n      sessionO = void 0\n    }).catch(function (e) {\n      // 批量回调异常\n      var cbt\n      if (sessionO.req && sessionO.req._getSessionTrueDataCbs) {\n        while ((cbt = sessionO.req._getSessionTrueDataCbs.shift())) {\n          if (cbt && cbt[1] && typeof cbt[1] === 'function') {\n            cbt[1](e)\n          }\n          cbt = void 0\n        }\n      } else if (session.isClientWindow && getSessionTrueCbs) {\n        while ((cbt = getSessionTrueCbs.shift())) {\n          if (cbt && cbt[1] && typeof cbt[1] === 'function') {\n            cbt[1](e)\n          }\n          cbt = void 0\n        }\n      }\n      e = sessionO = void 0\n    })\n    o = void 0\n  },\n  setData: function (o, sessionData) {\n    return new Promise(function (resolve, reject) {\n      if (!o.cookieName) {\n        // 根据host和port生成cookieName\n        o.cookieName = o.host + (o.port ? (':' + o.port) : '')\n      }\n      // 编码cookieName\n      o.cookieNameEnCode = session._cookieNameEnCode(o.cookieName)\n      if (o.isServerNode) {\n        // 服务器模式\n        session._setDataNode(o, sessionData, resolve, reject)\n      } else if (session.isClientWindow) {\n        // 客户端\n        session._setDataClient(o, sessionData, resolve, reject)\n      } else {\n        // 不确定是什么浏览器\n        reject(new Error('Neither a browser nor req and res'))\n      }\n      resolve = reject = o = void 0\n    })\n  },\n  getData: function (o) {\n    return new Promise(function (resolve, reject) {\n      if (!o.cookieName) {\n        // 根据host和port生成cookieName\n        o.cookieName = o.host + (o.port ? (':' + o.port) : '')\n      }\n      // 编码cookieName\n      o.cookieNameEnCode = session._cookieNameEnCode(o.cookieName)\n      if (o.isServerNode) {\n        // 服务器模式\n        session._getDataNode(o, resolve, reject)\n      } else if (session.isClientWindow) {\n        // 客户端\n        session._getDataClient(o, resolve, reject)\n      } else {\n        // 不确定是什么浏览器\n        reject(new Error('Neither a browser nor req and res'))\n      }\n      resolve = reject = o = void 0\n    }).then(function (o) {\n      // 反序列化会话数据\n      return new Promise(function (resolve, reject) {\n        if (o.sessionDataStr && typeof o.sessionDataStr === 'string') {\n          try {\n            o.sessionData = JSON.parse(o.sessionDataStr)\n          } catch (e) {\n            o.sessionData = o.sessionData || Object.create(null)\n          }\n        } else {\n          o.sessionData = o.sessionData || Object.create(null)\n        }\n        // 清理\n        delete o.sessionDataStr\n        // 序列化用于后期比对\n        o.sessionDataOldStr = session.arrayToStr(o.sessionData)\n        // 回调下一步\n        resolve(o)\n      })\n    })\n  },\n  // node服务端获取\n  _getDataNode: function (o, resolve, reject) {\n    var cookiename\n    try {\n      cookiename = o.cookieNameEnCode\n      o.sessionDataStr = session._getCookiesServer(cookiename, o.req) || (o.res && o.res.cookieDdvRestfulApiStr) || o.sessionDataStr\n      // 本地存储模块\n      if (typeof resolve === 'function') {\n        resolve(o)\n      }\n    } catch (e) {\n      if (typeof reject === 'function') {\n        reject(e)\n      }\n    }\n    resolve = reject = o = void 0\n  },\n  // 客户端获取\n  _setDataNode: function (o, data, resolve, reject) {\n    if (!(o && o.res)) {\n      reject(new Error('Your browser does not support cookies and localStorage'))\n      return\n    }\n    if (!o.cookieNameEnCode) {\n      reject(new Error('Deceased cookie surname'))\n      return\n    }\n    var cookiename = o.cookieNameEnCode\n    o.res.cookieDdvRestfulApiStr = data\n    try {\n      // 本地存储模块\n      if (session.isLongStorage) {\n        session._setCookiesServer(o.req, o.res, cookiename, data)\n      } else {\n        session._setCookiesServer(o.req, o.res, cookiename, data, session.getExpiresDate('365', '12', '60'))\n      }\n\n      if (typeof resolve === 'function') {\n        resolve(o)\n      }\n    } catch (e) {\n      if (typeof reject === 'function') {\n        reject(e)\n      }\n    }\n    resolve = reject = data = o = void 0\n  },\n  // 设置cookies\n  _getCookiesServer: function (key, req) {\n    if (req) {\n      return (req.cookies && req.cookies[key]) || session._getCookiesByStr(key, (req.headers && req.headers.cookie || '')) || ''\n    } else {\n      return ''\n    }\n  },\n  // 设置cookies\n  _setCookiesServer: function (req, res, key, value, expires, path, domain, isSecure) {\n    var t\n    if (!res) {\n      return\n    }\n    if (typeof res.cookie === 'function') {\n      t = { domain: domain || '', path: path || '/', secure: Boolean(isSecure) }\n      if (t.domain) {\n        delete t.domain\n      }\n      if (t.secure) {\n        delete t.secure\n      }\n      if (expires) {\n        t.expires = new Date(expires)\n      }\n      res.cookie(key, value, t)\n    } else {\n      t = ''\n      t += (key.toString().trim() + '=')\n      t += session.escape(value)\n      t += expires ? '; expires=' + expires : ''\n      t += (typeof path === 'string' && path !== '') ? ('; path=' + path) : '; path=/'\n      t += (typeof domain === 'string' && domain !== '') ? '; domain=' + domain : ''\n      t += isSecure ? '; secure' : ''\n      if (req.headers && req.headers.cookie) {\n        req.headers.cookie = t\n      }\n      // 强制一个数组\n      res.cookiesSetArray = res.cookiesSetArray || []\n      // 加入输出数组\n      res.cookiesSetArray.push(t)\n      // 设置输出头\n      res.setHeader('Set-Cookie', res.cookiesSetArray)\n    }\n    t = void 0\n  },\n  // 客户端获取\n  _getDataClient: function (o, resolve, reject) {\n    var cookiename, data\n    if (!(session.isLocalCookie || session.isLocalStorage || session.isSessionStorage)) {\n      reject(new Error('Your browser does not support cookies and localStorage'))\n      return\n    }\n    try {\n      cookiename = o.cookieNameEnCode\n      data = session._getCookiesClient(cookiename) || null\n      // 本地存储模块\n      if (!data) {\n        try {\n          if (session.isLongStorage) {\n            // 长期存储模式\n            data = localStorage.getItem(cookiename) || null\n            session._setCookiesClient(cookiename, data)\n          } else {\n            // 会话形式\n            data = sessionStorage.getItem(cookiename) || null\n            session._setCookiesClient(cookiename, data, session.getExpiresDate('365', '12', '60'))\n          }\n        } catch (e) {\n          data = null\n        }\n      }\n      o.sessionDataStr = data || o.sessionDataStr\n      if (typeof resolve === 'function') {\n        resolve(o)\n      }\n    } catch (e) {\n      if (typeof reject === 'function') {\n        reject(e)\n      }\n    }\n    resolve = reject = data = o = void 0\n  },\n  // 客户端获取\n  _setDataClient: function (o, data, resolve, reject) {\n    var cookiename\n    if (!(session.isLocalCookie || session.isLocalStorage || session.isSessionStorage)) {\n      reject(new Error('Your browser does not support cookies and localStorage'))\n      return\n    }\n    try {\n      cookiename = o.cookieNameEnCode\n      // 本地存储模块\n      if (session.isLongStorage) {\n        // 长期存储模式\n        if (session.isLocalStorage) {\n          localStorage.setItem(cookiename, data)\n        }\n        session._setCookiesClient(cookiename, data)\n      } else {\n        // 会话形式\n        if (session.isSessionStorage) {\n          sessionStorage.setItem(cookiename, data)\n        }\n        session._setCookiesClient(cookiename, data, session.getExpiresDate('365', '12', '60'))\n      }\n\n      if (typeof resolve === 'function') {\n        resolve(o)\n      }\n    } catch (e) {\n      if (typeof reject === 'function') {\n        reject(e)\n      }\n    }\n    resolve = reject = data = o = void 0\n  },\n  // 客户端读取\n  _getCookiesClient: function (key) {\n    if (session.isLocalCookie) {\n      return session._getCookiesByStr(key, document.cookie)\n    } else {\n      return ''\n    }\n  },\n  // 客户端存储\n  _setCookiesClient: function (key, value, expires, path, domain, isSecure) {\n    var t\n    key = (key || '').toString().trim()\n    try {\n      if (VS_COOKIEDM !== undefined && VS_COOKIEDM !== null && !domain) {\n        domain = VS_COOKIEDM\n      }\n    } catch (e) {}\n    t = ''\n    t += (key.toString().trim() + '=')\n    t += session.escape(value)\n    t += expires ? '; expires=' + expires : ''\n    t += (typeof path === 'string' && path !== '') ? ('; path=' + path) : '; path=/'\n    t += (typeof domain === 'string' && domain !== '') ? '; domain=' + domain : ''\n    t += isSecure ? '; secure' : ''\n    document.cookie = t\n    t = void 0\n  },\n  _cookieNameEnCode: function (name) {\n    name = cryptoJsCore.enc.Utf8.parse((name || 'sid').toString() || '').toString(cryptoJsBase64)\n    name = name.replace(/_/g, '____').replace(/\\+/g, '___').replace(/\\//g, '__').replace(/=/g, '_')\n    return name\n  },\n  // 数组序列化\n  _getCookiesByStr: function (key, str) {\n    var value = '';\n    ((str || '').split(';') || []).forEach(function (t, i) {\n      var a = (t || '').split('=') || []\n      if ((a[0] || '').toString().trim() === key) {\n        value = session.unescape((a[1] || '').toString().trim())\n      }\n      a = t = i = void 0\n    })\n    return value\n  },\n  // 数组序列化\n  arrayToStr: function (obj) {\n    var a = []\n    var name\n    for (name in obj) {\n      if (!Object.hasOwnProperty.call(obj, name)) {\n        continue\n      }\n      a.push(name + '=' + obj[name])\n    }\n    name = void 0\n    a.sort()\n    obj = void 0\n    a = a.join(';')\n    return a\n  },\n  isNumber: function (obj) {\n    return (typeof obj === 'string' || typeof obj === 'number') && (!Array.isArray(obj) && (obj - parseFloat(obj) >= 0))\n  },\n  // 获取GMT格式的过期时间\n  getExpiresDate: function (days, hours, minutes, seconds) {\n    var ExpiresDate = new Date()\n    if (session.isNumber(days) && session.isNumber(hours) && session.isNumber(minutes)) {\n      ExpiresDate.setDate(ExpiresDate.getDate() + parseInt(days))\n      ExpiresDate.setHours(ExpiresDate.getHours() + parseInt(hours))\n      ExpiresDate.setMinutes(ExpiresDate.getMinutes() + parseInt(minutes))\n      if (session.isNumber(seconds)) {\n        ExpiresDate.setSeconds(ExpiresDate.getSeconds() + parseInt(seconds))\n      }\n    }\n    return ExpiresDate.toGMTString()\n  },\n  // 解码\n  unescape: function (str) {\n    return unescape(str || '')\n  },\n  // 编码\n  escape: function (str) {\n    return escape(str || '')\n  }\n}\n\n// 局部变量-是否为客户端窗口\nsession.isClientWindow = typeof window !== 'undefined' && window.window === window && typeof window.document !== 'undefined'\n// 局部变量-本地cookie是否为客户端窗口支持\nsession.isLocalCookie = false\n// 局部变量-本地存储是否为客户端窗口支持\nsession.isLocalStorage = false\n// 局部变量-本地会话存储是否为客户端窗口支持\nsession.isSessionStorage = false\nsession.isLongStorage = false\nsession.sessionInitPath = '/session/init'\nif (session.isClientWindow) {\n  try {\n    session.isLocalCookie = 'cookie' in window.document\n  } catch (e) {}\n  try {\n    session.isLocalStorage = 'localStorage' in window\n  } catch (e) {}\n  try {\n    session.isSessionStorage = 'sessionStorage' in window\n  } catch (e) {}\n}\n\n// api模块\nvar api = require('./api.js')\nvar url = require('./url.js')\n// 签名模块\nvar sign = require('./sign.js')\n// 请求模块\nvar request = require('./request.js')\nvar cryptoJsCore = require('crypto-js/core')\nvar cryptoJsBase64 = require('crypto-js/enc-base64')\n// var cryptoJsUtf8 =\nrequire('crypto-js/enc-utf8')\n\n\n\n// WEBPACK FOOTER //\n// ./lib/session.js","'use strict'\n// 导出签名模块\nvar sign = module.exports = Object.assign(function sign (o) {\n  return sign._signRun(o)\n}, {\n  headersPrefix: 'x-ddv-',\n  excludeHeaderKeys: ['host', 'content-length', 'content-type', 'content-md5'],\n  // 签名头\n  _signRun: function (o) {\n    return new Promise(function signInit (resolve, reject) {\n      // base初始化\n      sign._signRunBaseInit(o)\n      // 初始化GET参数\n      sign._signRunQueryInit(o)\n      // 格式化头信息\n      sign._signRunHeadersFormat(o)\n      // 签名头排序\n      sign._signRunHeadersSort(o)\n      // 提交下一步\n      resolve(o)\n      o = void 0\n    }).then(function (o) {\n      // 获取校验过的session数据\n      return session.getTrueData(o)\n    }).then(function (o) {\n      // 会话id\n      var sessionId = o.sessionData.session_id\n      // 会话秘钥\n      var sessionKey = o.sessionData.session_key || 'session_key'\n      // 设备识别号\n      var sessionCard = o.sessionData.session_card\n      // 时间差\n      var differenceTime = o.sessionData.difference_time\n\n      // 授权字符串\n      o.Authorization = 'app-auth-v2' + '/' + o.request_id + '/' + sessionId + '/' + sessionCard + '/' + sign.getUTCServerTime(differenceTime) + '/' + '1800'\n      // 生成临时秘钥-用于加密的key-防止丢失正式key\n      var signingKey = sign.HmacSHA256(o.Authorization, sessionKey)\n\n      // 拼接内容\n      var canonicalRequest = o.method + o.n + request.urlEncodeExceptSlash(o.path) + o.n + o.query + o.n + o.authCanonicalHeadersStr\n      // 使用signKey和标准请求串完成签名\n      var sessionSign = sign.HmacSHA256(canonicalRequest, signingKey)\n      // 组成最终签名串\n      o.Authorization += '/' + o.authHeadersStr + '/' + sessionSign\n      // 进入下一步\n      return o\n    }).then(function (o) {\n      if (!o.headers) {\n        o.headers = Object.create(null)\n      }\n      o.headers['Authorization'] = o.Authorization\n      // 回收数据\n      delete o.authHeadersStr\n      delete o.authCanonicalHeadersStr\n      return o\n    })\n  },\n  // 签名头排序\n  _signRunHeadersSort: function (o) {\n    // 要签名的头的key的一个数组\n    o.authHeadersStr = []\n    // 签名的头\n    o.authCanonicalHeadersStr = []\n\n    o.headersPrefix = o.headersPrefix || sign.headersPrefix || request.headersPrefix\n    o.headersPrefixLen = o.headersPrefix.length\n    var keyLower, key, value\n    var headersOld = o.headers\n    for (key in headersOld) {\n      if (!Object.hasOwnProperty.call(headersOld, key)) {\n        continue\n      }\n      // 取得key对应的value\n      value = headersOld[key]\n      // 小写的key\n      keyLower = key.toLowerCase()\n      // 判断一下\n      if (sign.excludeHeaderKeys.indexOf(keyLower) > -1 || keyLower.substr(0, o.headersPrefixLen) === o.headersPrefix) {\n        o.authCanonicalHeadersStr.push(request.urlEncode(keyLower) + ':' + request.urlEncode(value))\n        o.authHeadersStr.push(keyLower)\n      }\n    }\n\n    // 排序\n    o.authCanonicalHeadersStr.sort()\n    // 用\\n拼接\n    o.authCanonicalHeadersStr = o.authCanonicalHeadersStr.join(o.n)\n    // 用;拼接\n    o.authHeadersStr = o.authHeadersStr.join(';')\n  },\n  // 格式化头信息\n  _signRunHeadersFormat: function (o) {\n    // 克隆\n    var headersTemp = Object.create(null)\n    var headersOld = o.headers\n    var value = ''\n    var key = ''\n    // 遍历头\n    for (key in headersOld) {\n      // 去左右空格\n      key = sign._trim(key)\n      value = sign._trim(headersOld[key])\n      switch (key.toLowerCase()) {\n        case 'authorization':\n          continue\n        case 'host':\n          key = 'Host'\n          break\n        case 'content-length':\n          key = 'Content-Length'\n          break\n        case 'content-type':\n          key = 'Content-Type'\n          break\n        case 'content-md5':\n          key = 'Content-Md5'\n          break\n      }\n      if (value) {\n        headersTemp[key] = value\n      }\n    }\n    // 把处理后的赋值回给\n    o.headers = headersTemp\n    // 释放内存\n    headersTemp = headersOld = key = value = void 0\n    // 强制有host头\n    o.headers.Host = o.headers.Host ? o.headers.Host : o.host\n\n    if (o.body && o.body.length > 0) {\n      o.headers['Content-Length'] = o.headers['Content-Length'] ? o.headers['Content-Length'] : o.body.length\n      o.headers['Content-Type'] = o.headers['Content-Type'] ? o.headers['Content-Type'] : 'application/x-www-form-urlencoded; charset=UTF-8'\n      o.headers['Content-Md5'] = sign.md5Base64(o.body)\n    }\n  },\n  // 初始化GET参数\n  _signRunQueryInit: function (o) {\n    // 签名数组\n    var queryArray = []\n    if (o.query && o.query.length > 0) {\n      o.query.split('&').forEach(function (t) {\n        if (!t) {\n          return\n        }\n        var key, value, i\n          // 找到第一个等号的首次出现位置\n        i = t.indexOf('=')\n          // 取得key\n        key = t.substr(0, i)\n          // 取得value\n        value = t.substr(i + 1)\n          // 先去左右空格再编码\n        key = sign._trim(key)\n        value = sign._trim(value)\n          // 插入新数组\n        queryArray.push(key + '=' + value)\n      })\n    }\n    // 排序\n    queryArray.sort()\n    // 用&拼接\n    o.query = queryArray.join('&')\n    // 回收内存\n    queryArray = void 0\n  },\n  // base初始化\n  _signRunBaseInit: function (o) {\n    // 默认换行\n    o.n = o.n || '\\n'\n    // 请求id\n    o.request_id = o.request_id || request.createRequestId()\n    // 请求方式\n    o.method = (o.method || 'GET').toString().toUpperCase()\n    // 强制是字符串\n    o.query = o.query || ''\n    // get请求\n    if (o.method.toLowerCase() === 'GET') {\n      // 如果有请求体\n      if (o.body) {\n        // 拼接到query中\n        o.query += o.query ? '&' : ''\n        // 清空请求体\n        o.body = ''\n      }\n    } else {\n      o.body = o.body || ''\n    }\n  },\n  getUTCServerTime: function (differenceTime) {\n    var d\n    d = new Date()\n    d = new Date(parseInt(d.getTime() + ((parseInt(differenceTime) || 0) * 1000)) + (60 * d.getTimezoneOffset()))\n    return d.getUTCFullYear() + '-' + sign._replenish((d.getUTCMonth() + 1), 2) + '-' + sign._replenish((d.getUTCDate()), 2) + 'T' + sign._replenish((d.getUTCHours()), 2) + ':' + sign._replenish((d.getUTCMinutes()), 2) + ':' + sign._replenish((d.getUTCSeconds()), 2) + 'Z'\n  },\n  _replenish: function (text, total, rstr) {\n    text = text.toString()\n    var rstrlen = (total - text.length) || 0\n    var rstri = 0\n    var r = text\n    switch (arguments.length) {\n      case 3:\n        break\n      case 2:\n        rstr = '0'\n        break\n      default:\n        return r\n    }\n    for (rstri = 0; rstri < rstrlen; rstri++) {\n      r = rstr.toString() + r.toString()\n    }\n    return r\n  },\n  _trim: function (str) {\n    return str.toString().trim()\n  },\n  md5Hex: function (str, isToString) {\n    str = str || ''\n    if (isToString !== false) {\n      str = str.toString()\n    }\n    return cryptoJsCore.MD5(str).toString(cryptoJsHex)\n  },\n  md5Base64: function (str, isToString) {\n    str = str || ''\n    if (isToString !== false) {\n      str = str.toString()\n    }\n    return cryptoJsCore.MD5(str).toString(cryptoJsBase64)\n  },\n  HmacSHA256: function (str, key, isToString) {\n    str = str || ''\n    if (isToString !== false) {\n      str = str.toString()\n    }\n    return cryptoJsCore.HmacSHA256(str, key).toString(cryptoJsHex)\n  }\n})\n// 引入签名会话模块\n// 引入请求模块\nvar request = require('./request.js')\nvar session = require('./session.js')\nvar cryptoJsCore = require('crypto-js/core')\n// var cryptoJsMd5 =\nrequire('crypto-js/md5')\n// var cryptoJsHmacSha256 =\nrequire('crypto-js/hmac-sha256')\nvar cryptoJsBase64 = require('crypto-js/enc-base64')\nvar cryptoJsHex = require('crypto-js/enc-hex')\n\n\n\n// WEBPACK FOOTER //\n// ./lib/sign.js","module.exports = (function () {\n  function _t () {\n    return new RegExp(/(.*?)\\.?([^.]*?)\\.?(com|net|org|biz|ws|in|me|co\\.uk|co|org\\.uk|ltd\\.uk|plc\\.uk|me\\.uk|edu|mil|br\\.com|cn\\.com|eu\\.com|hu\\.com|no\\.com|qc\\.com|sa\\.com|se\\.com|se\\.net|us\\.com|uy\\.com|ac|co\\.ac|gv\\.ac|or\\.ac|ac\\.ac|af|am|as|at|ac\\.at|co\\.at|gv\\.at|or\\.at|asn\\.au|com\\.au|edu\\.au|org\\.au|net\\.au|id\\.au|be|ac\\.be|adm\\.br|adv\\.br|am\\.br|arq\\.br|art\\.br|bio\\.br|cng\\.br|cnt\\.br|com\\.br|ecn\\.br|eng\\.br|esp\\.br|etc\\.br|eti\\.br|fm\\.br|fot\\.br|fst\\.br|g12\\.br|gov\\.br|ind\\.br|inf\\.br|jor\\.br|lel\\.br|med\\.br|mil\\.br|net\\.br|nom\\.br|ntr\\.br|odo\\.br|org\\.br|ppg\\.br|pro\\.br|psc\\.br|psi\\.br|rec\\.br|slg\\.br|tmp\\.br|tur\\.br|tv\\.br|vet\\.br|zlg\\.br|br|ab\\.ca|bc\\.ca|mb\\.ca|nb\\.ca|nf\\.ca|ns\\.ca|nt\\.ca|on\\.ca|pe\\.ca|qc\\.ca|sk\\.ca|yk\\.ca|ca|cc|ac\\.cn|com\\.cn|edu\\.cn|gov\\.cn|org\\.cn|bj\\.cn|sh\\.cn|tj\\.cn|cq\\.cn|he\\.cn|nm\\.cn|ln\\.cn|jl\\.cn|hl\\.cn|js\\.cn|zj\\.cn|ah\\.cn|gd\\.cn|gx\\.cn|hi\\.cn|sc\\.cn|gz\\.cn|yn\\.cn|xz\\.cn|sn\\.cn|gs\\.cn|qh\\.cn|nx\\.cn|xj\\.cn|tw\\.cn|hk\\.cn|mo\\.cn|cn|cx|cz|de|dk|fo|com\\.ec|tm\\.fr|com\\.fr|asso\\.fr|presse\\.fr|fr|gf|gs|co\\.il|net\\.il|ac\\.il|k12\\.il|gov\\.il|muni\\.il|ac\\.in|co\\.in|org\\.in|ernet\\.in|gov\\.in|net\\.in|res\\.in|is|it|ac\\.jp|co\\.jp|go\\.jp|or\\.jp|ne\\.jp|ac\\.kr|co\\.kr|go\\.kr|ne\\.kr|nm\\.kr|or\\.kr|li|lt|lu|asso\\.mc|tm\\.mc|com\\.mm|org\\.mm|net\\.mm|edu\\.mm|gov\\.mm|ms|nl|no|nu|pl|ro|org\\.ro|store\\.ro|tm\\.ro|firm\\.ro|www\\.ro|arts\\.ro|rec\\.ro|info\\.ro|nom\\.ro|nt\\.ro|se|si|com\\.sg|org\\.sg|net\\.sg|gov\\.sg|sk|st|tf|ac\\.th|co\\.th|go\\.th|mi\\.th|net\\.th|or\\.th|tm|to|com\\.tr|edu\\.tr|gov\\.tr|k12\\.tr|net\\.tr|org\\.tr|com\\.tw|org\\.tw|net\\.tw|ac\\.uk|uk\\.com|uk\\.net|gb\\.com|gb\\.net|vg|sh|kz|ch|info|ua|gov|name|pro|ie|hk|com\\.hk|org\\.hk|net\\.hk|edu\\.hk|us|tk|cd|by|ad|lv|eu\\.lv|bz|es|jp|cl|ag|mobi|eu|co\\.nz|org\\.nz|net\\.nz|maori\\.nz|iwi\\.nz|io|la|md|sc|sg|vc|tw|travel|my|se|tv|pt|com\\.pt|edu\\.pt|asia|fi|com\\.ve|net\\.ve|fi|org\\.ve|web\\.ve|info\\.ve|co\\.ve|tel|im|gr|ru|net\\.ru|org\\.ru|hr|com\\.hr|ly|xyz|so)$/)\n  }\n\n  function _d (s) {\n    return decodeURIComponent(s.replace(/\\+/g, ' '))\n  }\n\n  function _i (arg, str) {\n    var sptr = arg.charAt(0)\n    var split = str.split(sptr)\n\n    if (sptr === arg) { return split }\n\n    arg = parseInt(arg.substring(1), 10)\n\n    return split[arg < 0 ? split.length + arg : arg - 1]\n  }\n\n  function _f (arg, str) {\n    var sptr = arg.charAt(0)\n    var split = str.split('&')\n    var field = []\n    var params = {}\n    var tmp = []\n    var arg2 = arg.substring(1)\n\n    for (var i = 0, ii = split.length; i < ii; i++) {\n      field = split[i].match(/(.*?)=(.*)/)\n\n      // TODO: regex should be able to handle this.\n      if (!field) {\n        field = [split[i], split[i], '']\n      }\n\n      if (field[1].replace(/\\s/g, '') !== '') {\n        field[2] = _d(field[2] || '')\n\n        // If we have a match just return it right away.\n        if (arg2 === field[1]) { return field[2] }\n\n        // Check for array pattern.\n        tmp = field[1].match(/(.*)\\[([0-9]+)]/)\n\n        if (tmp) {\n          params[tmp[1]] = params[tmp[1]] || []\n\n          params[tmp[1]][tmp[2]] = field[2]\n        } else {\n          params[field[1]] = field[2]\n        }\n      }\n    }\n\n    if (sptr === arg) { return params }\n\n    return params[arg2]\n  }\n\n  return function (arg, url) {\n    var _l = {}\n    var tmp\n\n    if (arg === 'tld?') { return _t() }\n\n    url = url || ((typeof window !== 'undefined' && window.location) || '').toString()\n\n    if (!arg) { return url }\n\n    arg = arg.toString()\n\n    if ((tmp = url.match(/^mailto:([^/].+)/))) {\n      _l.protocol = 'mailto'\n      _l.email = tmp[1]\n    } else {\n      // Ignore Hashbangs.\n      if ((tmp = url.match(/(.*?)\\/#!(.*)/))) {\n        url = tmp[1] + tmp[2]\n      }\n\n      // Hash.\n      if ((tmp = url.match(/(.*?)#(.*)/))) {\n        _l.hash = tmp[2]\n        url = tmp[1]\n      }\n\n      // Return hash parts.\n      if (_l.hash && arg.match(/^#/)) { return _f(arg, _l.hash) }\n\n      // Query\n      if ((tmp = url.match(/(.*?)\\?(.*)/))) {\n        _l.query = tmp[2]\n        url = tmp[1]\n      }\n\n      // Return query parts.\n      if (_l.query && arg.match(/^\\?/)) { return _f(arg, _l.query) }\n\n      // Protocol.\n      if ((tmp = url.match(/(.*?):?\\/\\/(.*)/))) {\n        _l.protocol = tmp[1].toLowerCase()\n        url = tmp[2]\n      }\n\n      // Path.\n      if ((tmp = url.match(/(.*?)(\\/.*)/))) {\n        _l.path = tmp[2]\n        url = tmp[1]\n      }\n\n      // Clean up path.\n      _l.path = (_l.path || '').replace(/^([^/])/, '/$1').replace(/\\/$/, '')\n\n      // Return path parts.\n      if (arg.match(/^[-0-9]+$/)) { arg = arg.replace(/^([^/])/, '/$1') }\n      if (arg.match(/^\\//)) { return _i(arg, _l.path.substring(1)) }\n\n      // File.\n      tmp = _i('/-1', _l.path.substring(1))\n\n      if (tmp && (tmp = tmp.match(/(.*?)\\.(.*)/))) {\n        _l.file = tmp[0]\n        _l.filename = tmp[1]\n        _l.fileext = tmp[2]\n      }\n\n      // Port.\n      if ((tmp = url.match(/(.*):([0-9]+)$/))) {\n        _l.port = tmp[2]\n        url = tmp[1]\n      }\n\n      // Auth.\n      if ((tmp = url.match(/(.*?)@(.*)/))) {\n        _l.auth = tmp[1]\n        url = tmp[2]\n      }\n\n      // User and pass.\n      if (_l.auth) {\n        tmp = _l.auth.match(/(.*):(.*)/)\n\n        _l.user = tmp ? tmp[1] : _l.auth\n        _l.pass = tmp ? tmp[2] : undefined\n      }\n\n      // Hostname.\n      _l.hostname = url.toLowerCase()\n\n      // Return hostname parts.\n      if (arg.charAt(0) === '.') { return _i(arg, _l.hostname) }\n\n      // Domain, tld and sub domain.\n      if (_t()) {\n        tmp = _l.hostname.match(_t())\n\n        if (tmp) {\n          _l.tld = tmp[3]\n          _l.domain = tmp[2] ? tmp[2] + '.' + tmp[3] : undefined\n          _l.sub = tmp[1] || undefined\n        }\n      }\n\n      // Set port and protocol defaults if not set.\n      _l.port = _l.port || (_l.protocol === 'https' ? '443' : '80')\n      _l.protocol = _l.protocol || (_l.port === '443' ? 'https' : 'http')\n      _l.protocol = _l.protocol + ':'\n    }\n\n    // Return arg.\n    if (arg in _l) { return _l[arg] }\n\n    // Return everything.\n    if (arg === '{}') { return _l }\n\n    // Default to undefined for no match.\n    return undefined\n  }\n})()\n\n\n\n// WEBPACK FOOTER //\n// ./lib/url.js","module.exports = require(\"crypto-js/core\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"crypto-js/core\"\n// module id = 6\n// module chunks = 0","module.exports = require(\"crypto-js/enc-base64\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"crypto-js/enc-base64\"\n// module id = 7\n// module chunks = 0","'use strict'\nvar http = require('http')\nvar https = require('https')\nvar session = require('./session.js')\nvar isWindow = typeof window !== 'undefined' && window.window === window\n// 发送请求\nmodule.exports = function ajax (o) {\n  return isWindow ? ajaxbyWindow(o) : ajaxbyNode(o)\n}\nfunction ajaxbyWindow (o) {\n  return new Promise(function (resolve, reject) {\n    var url = parseUrl({\n      protocol: (o.protocol || 'http:'),\n      host: o.host,\n      port: (o.port || '80'),\n      path: (o.path || '/')\n    })\n    var xhr\n\n    // 创建 - 非IE6 - 第一步\n    if (typeof window !== 'undefined' && window.XMLHttpRequest) {\n      xhr = new window.XMLHttpRequest()\n    } else {\n      // IE6及其以下版本浏览器\n      xhr = new window.ActiveXObject('Microsoft.XMLHTTP')\n    }\n\n    // 接收 - 第三步\n    xhr.onreadystatechange = function () {\n      if (xhr.readyState === 4) {\n        var status = xhr.status\n        var statusText = xhr.statusText\n        if (status >= 200 && status < 300) {\n          var serverRes = {}\n          serverRes.headers = {}\n          serverRes.rawHeaders = []\n          serverRes.body = xhr.response\n          serverRes.statusCode = xhr.status\n          serverRes.statusMessage = xhr.statusText\n          serverRes.status = xhr.statusText\n\n          var headers = xhr.getAllResponseHeaders().split(/\\r?\\n/)\n          headers.forEach(function (header) {\n            var matches = header.match(/^([^:]+):\\s*(.*)/)\n            if (matches) {\n              var key = matches[1].toLowerCase()\n              if (key === 'set-cookie') {\n                if (serverRes.headers[key] === undefined) {\n                  serverRes.headers[key] = []\n                }\n                serverRes.headers[key].push(matches[2])\n              } else if (serverRes.headers[key] !== undefined) {\n                serverRes.headers[key] += ', ' + matches[2]\n              } else {\n                serverRes.headers[key] = matches[2]\n              }\n              serverRes.rawHeaders.push(matches[1], matches[2])\n            }\n          })\n          resolve(serverRes)\n        } else {\n          var e = new Error(statusText)\n          e.statusCode = xhr.status\n          e.statusMessage = xhr.statusText\n          e.status = xhr.statusText\n          reject(e)\n        }\n      }\n    }\n    // 连接 和 发送 - 第二步\n    xhr.open((o.method || 'GET').toUpperCase(), url, true)\n    // 设置表单提交时的内容类型\n    var key, value, headers\n    headers = o.headers\n    for (key in headers) {\n      if (key.toLowerCase() === 'host' || key.toLowerCase() === 'content-length') {\n        continue\n      }\n      value = headers[key]\n      if (Array.isArray(value)) {\n        value.forEach(function (vt) {\n          xhr.setRequestHeader(key, vt)\n        })\n      } else {\n        xhr.setRequestHeader(key, headers[key])\n      }\n      value = Array.isArray(value) ? value.join(' ') : value\n    }\n    xhr.send(o.body || null)\n  })\n}\nfunction ajaxbyNode (o) {\n  return new Promise(function (resolve, reject) {\n    var opt, req\n    if (!(o.isServerNode || session.isClientWindow)) {\n      // 不是浏览器和node服务器\n      reject(new Error('Neither a browser nor req and res'))\n      return\n    }\n    opt = {\n      method: (o.method || 'GET'),\n      protocol: (o.protocol || 'http:'),\n      host: o.host,\n      port: (o.port || '80'),\n      path: (o.path || '/'),\n      headers: o.headers\n    }\n    if (o.query) {\n      opt.path += '?' + o.query\n    }\n    // 发送请求\n    req = (opt.protocol === 'http:' ? http : https).request(opt, function (response) {\n      var serverRes = {}\n      serverRes.body = ''\n      response.on('data', function (data) {\n        serverRes.body += data\n      }).on('end', function () {\n        serverRes.statusCode = response.statusCode || 200\n        serverRes.status = response.statusMessage.toString() || 'UNKNOW_ERROR'\n        serverRes.rawHeaders = response.rawHeaders || []\n        serverRes.headers = response.headers || Object.create(null)\n        resolve(serverRes)\n      })\n    })\n    if (o.body) {\n      req.write(o.body)\n    }\n    req.on('error', function (e) {\n      reject(e)\n    })\n    req.end()\n    opt = req = void 0\n  })\n}\nfunction parseUrl (obj) {\n  var r = ''\n  r += obj.protocol || 'http:'\n  r += '//' + (obj.host || '')\n  r += obj.port ? (((obj.protocol === 'http:' && obj.port === '80') || (obj.protocol === 'https:' && obj.port === '443')) ? '' : (':' + obj.port)) : ''\n  obj.pathquery = obj.pathquery || (obj.path || '/') + (obj.query ? ('?' + obj.query) : '')\n  r += obj.pathquery\n  return r\n}\n\n\n\n// WEBPACK FOOTER //\n// ./lib/ajax.js","'use strict'\nvar api = require('./api.js')\nvar url = require('./url.js')\nvar sign = require('./sign.js')\nvar session = require('./session.js')\nvar request = require('./request.js')\n// 设置baseUrl\napi.setBaseUrl = function (baseUrl) {\n  request.baseUrl = api.baseUrl = baseUrl\n}\n// 设置headersPrefix\napi.setHeadersPrefix = function (prefix) {\n  sign.headersPrefix = request.headersPrefix = api.headersPrefix = prefix\n}\n// 设置是否使用长存储\napi.setLongStorage = function (isUseLong) {\n  session.isLongStorage = Boolean(isUseLong)\n}\n// 设置是否使用长存储\napi.setSessionInitTrySum = function (sum) {\n  session.initTrySum = sum || session.initTrySum\n}\n// 设置初始化session的path\napi.setSessionInitPath = function (path) {\n  session.sessionInitPath = path || session.sessionInitPath\n}\n// GET请求\napi.get = function ddvRestFulApiGet (path, req, res) {\n  return api(path, req, res).method('GET')\n}\n// POST请求\napi.post = function ddvRestFulApiPost (path, req, res) {\n  return api(path, req, res).method('POST')\n}\n// PUT请求\napi.put = function ddvRestFulApiPut (path, req, res) {\n  return api(path, req, res).method('PUT')\n}\n// DELETE请求\napi.del = api['delete'] = function ddvRestFulApiDelete (path, req, res) {\n  return api(path, req, res).method('DELETE')\n}\napi.url = url\napi.sign = sign\napi.session = session\napi.request = request\napi.Promise = Promise\napi.prototype = Promise.prototype\n'all race reject resolve'.split(' ').forEach(function (key) {\n  api[key] = function () {\n    return Promise[key].apply(Promise, arguments)\n  }\n})\n\napi.util = function apiUtil (util) {\n  // 扩展请求接口\n  util.extend({\n    api: api,\n    get: api.get,\n    post: api.post,\n    put: api.put,\n    del: api.del,\n    data: api.data\n  })\n  // delete兼容性问题\n  util['delete'] = api['delete']\n  util['Promise'] = util['Promise'] || Promise\n}\n\napi.copyObjByKey = function copyObjByKey (oldObj, newObj, keys) {\n  keys = keys || []\n  keys.forEach(function (key) {\n    oldObj[key] = newObj[key] || oldObj[key]\n  })\n}\n\nif (typeof window !== 'undefined' && window.window === window) {\n  window.ddvRestFulApi = api\n}\n\n\n\n// WEBPACK FOOTER //\n// ./lib/apiExternal.js","'use strict'\n// 下一进程运行\nvar nextTick = require('./nextTick.js')\n// 导出模块\nmodule.exports = function apiPromisePrototype (_promise) {\n  _promise._path = '/'\n  _promise._method = 'GET'\n  _promise._headers = Object.create(null)\n  _promise._data = Object.create(null)\n  _promise._query = Object.create(null)\n  _promise.headers = function headers (headers) {\n    this._headers = this._headers || Object.create(null)\n    Object.assign(this._headers, headers || Object.create(null))\n    return this\n  }\n  _promise.path = function path (path) {\n    this._path = (path || '/').toString()\n    return this\n  }\n  _promise.method = function method (method) {\n    this._method = (method || this._method || 'GET').toString().toUpperCase()\n    return this\n  }\n\n  // 发送别名\n  _promise.send = _promise.sendData = function sendData (data) {\n    this._data = this._data || Object.create(null)\n    Object.assign(this._data, data || Object.create(null))\n    return this\n  }\n  _promise.query = function query (data) {\n    this._query = this._query || Object.create(null)\n    Object.assign(this._query, data || Object.create(null))\n    return this\n  }\n  _promise.req = function req (req) {\n    this._req = req || this._req || null\n  }\n  _promise.res = function res (res) {\n    this._res = res || this._res || null\n  }\n  _promise.context = function context (context) {\n    if (context.req && context.res) {\n      this.req(context.req)\n      this.res(context.res)\n    } else if (context.requests && context.response) {\n      this.req(context.requests)\n      this.res(context.response)\n    }\n  }\n  _promise._apiDestroy = function _apiDestroy () {\n    nextTick.call(this, function () {\n      var key\n      for (key in this) {\n        if (!Object.hasOwnProperty.call(this, key)) continue\n        delete this[key]\n      }\n      key = void 0\n    })\n  }\n  // 成功别名\n  _promise.success = _promise.then\n  // 错误别名\n  _promise.error = _promise.catch\n  // 失败别名\n  _promise.fail = _promise.catch\n}\n\n\n\n// WEBPACK FOOTER //\n// ./lib/apiPromisePrototype.js","'use strict'\n// 下一进程运行\nvar nextTick = require('./nextTick.js')\n// 请求模块\nvar request = require('./request.js')\n// 导出模块\nmodule.exports = function apiPromiseRun (_promise, path, req, res) {\n  return new Promise(function (resolve, reject) {\n    if (typeof path === 'object') {\n      _promise.path(path.path)\n      _promise.sendData(path.data)\n      _promise.headers(path.headers)\n      _promise.method(path.method)\n      resolve()\n    } else if (typeof path === 'string') {\n      _promise.path(path || '/')\n      resolve()\n    } else {\n      var e = new Error('method type error')\n      e.error_id = 'UNKNOW_ERROR'\n      reject(e)\n    }\n  }).then(function () {\n    // 设定请求对象\n    if (req && req.req && req.res) {\n      _promise.context(req)\n    } else {\n      _promise.req(req)\n      _promise.res(res)\n    }\n  }).then(function () {\n    return new Promise(function (resolve, reject) {\n      nextTick(function () {\n        request(_promise, function (e, res) {\n          e ? reject(e) : resolve(res)\n        })\n      })\n    })\n  }).then(function (_request) {\n    return new Promise(function (resolve, reject) {\n      var r = null\n      var e = null\n      var res = _request.serverRes\n      try {\n        r = JSON.parse(res.body)\n      } catch (e1) {\n        e = e1\n        e.body = res.body\n        console.log(e.body)\n      }\n      if (e) {\n        e.statusCode = res.statusCode\n        e.error_id = res.status\n        e.message = res.status || 'Unknow Error'\n        reject(e)\n      } else if (r) {\n        if (r.state) {\n          r.statusCode = r.statusCode || r.code || res.statusCode\n          r.error_id = r.error_id || res.status\n          r.message = r.message || r.msg || res.status || 'Unknow Error'\n          resolve(r)\n        } else {\n          e = new Error(r.message || r.msg || res.status || 'Unknow Error')\n          e.statusCode = r.statusCode || r.code || res.statusCode\n          e.error_id = r.error_id || res.status\n          e.message = r.message || r.msg || res.status || 'Unknow Error'\n          reject(e)\n        }\n      }\n      _request.destroy()\n      _request = resolve = reject = r = e = res = void 0\n    })\n  })\n}\n\n\n\n// WEBPACK FOOTER //\n// ./lib/apiPromiseRun.js","'use strict'\nconst api = require('./api.js')\n\napi.data = function tryGetData (context, promiseFnRun, _dataOld) {\n  if (typeof context === 'function' || context instanceof Promise) {\n    promiseFnRun = context\n    context = void 0\n  }\n  var promiseFnReload = void 0\n  var _this = this\n  var data = Object && Object.create ? Object.create(null) : {}\n  return new Promise(function tryGetDataRun (resolve, reject) {\n    var _promise\n    if ((typeof promiseFnRun) === 'function') {\n      _promise = promiseFnRun.call(_this, data, function (inputData) {\n        if (data && inputData && typeof inputData === 'object') {\n          Object.assign(data, inputData)\n        }\n      }, context)\n      promiseFnReload = promiseFnRun\n    } else if (promiseFnRun instanceof Promise) {\n      _promise = promiseFnRun\n    }\n    _this = promiseFnRun = void 0\n    // 必须是Promise实例化的对象\n    if (_promise instanceof Promise) {\n      _promise.then(function resData (res) {\n        // 如果没有return数据就返回一个data\n        res = res === void 0 ? data : res\n        data = void 0\n        return res\n      }).catch(function (e) {\n        // 如果请求出现了异常\n        return api.dataErrorEmit({context: context, error: e}).then(function (res) {\n          if (res && res.isReload === true) {\n            if (promiseFnReload) {\n              // 重新发送整个请求\n              return api.data(context, promiseFnReload, _dataOld)\n            } else {\n              var e = new Error('Please resubmit or try again')\n              e.error_id = 'UNKNOW_ERROR'\n              throw e\n            }\n          } else if (res && res.res !== void 0) {\n            // 返回指定结果\n            return res.res\n          }\n        })\n      }).then(resolve).catch(reject)\n    } else {\n      var e = new Error('Your argument must be a Promise, or a method, and this method returns Promise after the call')\n      e.error_id = 'UNKNOW_ERROR'\n      reject(e)\n    }\n    _promise = void 0\n  })\n}\napi._onDataServerErrorFn = null\napi.onDataServerError = function onDataServerError (fn) {\n  api._onDataServerErrorFn = fn\n}\napi._onDataClientErrorFn = null\napi.onDataClientError = function onDataClientError (fn) {\n  api._onDataClientErrorFn = fn\n}\napi.dataErrorEmit = function dataErrorEmit (input) {\n  var context, error\n  context = input && input.context || context\n  error = input && input.error || error\n  var _promise = new Promise(function checkOnDataErrorArr (resolve, reject) {\n    reject(error)\n    resolve = reject = void 0\n  })\n  if (context && context.isServer) {\n  // 有上下文 并且是服务器端\n    if (typeof api._onDataServerErrorFn === 'function') {\n      _promise = _promise.catch(function onCatch (e) {\n        e = api._onDataServerErrorFn(e, context)\n        context = void 0\n        return e\n      })\n    }\n  } else {\n  // 否则统一客户端方法处理\n    if (typeof api._onDataClientErrorFn === 'function') {\n      _promise = _promise.catch(function onCatch (e) {\n        e = api._onDataClientErrorFn(e, context)\n        context = void 0\n        return e\n      })\n    }\n  }\n  return _promise\n}\n\n\n\n// WEBPACK FOOTER //\n// ./lib/apiTryData.js","module.exports = require(\"crypto-js/enc-hex\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"crypto-js/enc-hex\"\n// module id = 13\n// module chunks = 0","module.exports = require(\"crypto-js/enc-utf8\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"crypto-js/enc-utf8\"\n// module id = 14\n// module chunks = 0","module.exports = require(\"crypto-js/hmac-sha256\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"crypto-js/hmac-sha256\"\n// module id = 15\n// module chunks = 0","module.exports = require(\"crypto-js/md5\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"crypto-js/md5\"\n// module id = 16\n// module chunks = 0","module.exports = require(\"http\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"http\"\n// module id = 17\n// module chunks = 0","module.exports = require(\"https\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"https\"\n// module id = 18\n// module chunks = 0","module.exports = require('./api.js')\n\n\n\n// WEBPACK FOOTER //\n// ./lib/index.js"],"sourceRoot":""}